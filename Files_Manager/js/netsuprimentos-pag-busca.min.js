/* -------------------------------------------------------
 * b2bnaweb - Net Suprimentos
 * Copyright (c) 2016 - 2019 
 * ------------------------------------------------------- */
function prateleira() {
    function a() {
        function a(a, b) {
            var c = $(a).closest(".box-item").find(".amount-in-cart").val(),
                d = parseInt($(a).closest(".box-item").find(".amount-max-in-cart").val());
            "" == c && (c = 0), c = parseInt(c);
            var e = c + b;
            e <= 0 && (e = 1), e > d && (e = d), $(a).closest(".box-item").find(".amount-in-cart").val(e)
        }
        $(".prateleira .alterar-quant.mais").unbind("click"), $(".prateleira .alterar-quant.mais").live("click", function (b) {
            a(this, 1)
        }), $(".prateleira .alterar-quant.menos").unbind("click"), $(".prateleira .alterar-quant.menos").live("click", function (b) {
            a(this, -1)
        })
    }

    function b() {
        setTimeout(function () {
            $(".helperComplement").remove(), $(".prateleira ul li").each(function () {
                if ($(this).hasClass("pronto") || ($(this).find(".box-item .botao-comprar .quant").append('<span class="alterar-quant mais">+</span><span class="alterar-quant menos">-</span>'), $(this).addClass("pronto")), $(this).find(".old-price").length > 0) {
                    var a = $(this).find(".best-price strong").text().split("R$ "),
                        b = $(this).find(".old-price strong").text().split("R$ "),
                        c = a[1].replace(".", "").replace(",", "."),
                        d = b[1].replace(".", "").replace(",", "."),
                        e = (d - c) / d * 100;
                    b.indexOf("99.999,00") == -1 && ($(".descontoDePor", this).length || $(this).prepend('<div class="descontoDePor"><strong>' + e.toFixed(0) + "%<br/>OFF</strong></div>").show())
                }
            }), setTimeout(function () {
                $(".prateleira ul").fadeIn()
            }, 200)
        }, 200)
    }
    a(), b(), $(".confira-todos-produtos").live("click", function () {
        $(document).ajaxStop(function () {
            $(".helperComplement").remove(), b()
        })
    })
}

function asc_sort(a, b) {
    return $(b).attr("title") < $(a).attr("title") ? 1 : -1
}

function dec_sort(a, b) {
    return $(b).attr("title") > $(a).attr("title") ? 1 : -1
}

function navSlick() {
    $('[class*="nt-box-icons-nav-list-icon-"] .nt-nav-list-icon').length && $('[class*="nt-box-icons-nav-list-icon-"] > div ').slick({
        slide: "div",
        slidesToShow: 7,
        slidesToScroll: 1,
        dots: !1,
        arrows: !0,
        infinite: !0,
        autoplay: !0,
        autoplaySpeed: 2e3,
        responsive: [{
            breakpoint: 1680,
            settings: {
                slidesToShow: 7,
                slidesToScroll: 1
            }
        }, {
            breakpoint: 900,
            settings: {
                slidesToShow: 3,
                slidesToScroll: 2
            }
        }, {
            breakpoint: 600,
            settings: {
                slidesToShow: 2,
                slidesToScroll: 2
            }
        }]
    })
}

function departmentCurrent() {
    var a = vtxctx.departmentName;
    "Papelaria e EscritÃ³rio" === a && $("body").addClass("is--papelaria_e_escritorio")
}

function appendInSubcategorys() {
    var a = $(".slider-banner-departamento-big .container").children(),
        b = $(".nt-box .x-btn-saibaMais");
    $("body").hasClass("is--papelaria_e_escritorio") && !a.length && b.after('<div class="slider-banner-departamento-big"><div class="container"><div class="box-banner"><a href="/papelaria-e-escritorio/cadeiras-de-escritorio?utm_source=department_papelaria_e_escritorio&amp;utm_campaign=cadeira_presidente"><img width="1440" height="150" id="ihttps://b2bnaweb.vteximg.com.br/arquivos/ids/4226994/banner-department-inovakasa.jpg?v=636892071307230000" alt="Campanha - EscritÃ³rio e Papelaria" src="https://b2bnaweb.vteximg.com.br/arquivos/ids/4226994/banner-department-inovakasa.jpg?v=636892071307230000" complete="complete"></a></div></div></div>')
}
if (prateleira(), $(function () {
    var a = '<div class="nt-line-around" style="display:none"><div class="nt-line-wrapper"><span class="nt-visible-active">Leia mais [+]</span><span class="nt-hidden-active">Ocultar [-]</span></div></div>',
        b = $(".descricao-sessao", ".nt-title-category");
    b.after(a), $(".descricao-sessao", ".nt-title-category").addClass("nt-collapse"), $("p", ".nt-title-category .descricao-sessao").outerHeight() > 40 ? $(".nt-line-around", ".nt-title-category").show() : $(".nt-line-around", ".nt-title-category").hide(), $(".nt-line-around", ".nt-title-category").bind("click", function (a) {
        a.preventDefault();
        var b = $(this),
            c = $(".descricao-sessao p", ".nt-title-category").outerHeight();
        $(".descricao-sessao", ".nt-title-category").hasClass("visible") ? ($(".descricao-sessao", ".nt-title-category").removeAttr("style"), $(".descricao-sessao", ".nt-title-category").removeClass("visible"), b.find("span:nth-child(2)").removeClass().addClass("nt-hidden-active"), b.find("span:nth-child(1)").removeClass().addClass("nt-visible-active")) : ($(".descricao-sessao", ".nt-title-category").addClass("visible"), $(".descricao-sessao", ".nt-title-category").css("max-height", c), b.find("span:nth-child(1)").removeClass().addClass("nt-hidden-active"), b.find("span:nth-child(2)").removeClass().addClass("nt-visible-active"))
    }), $(window).resize(function () {
        if ($("p", ".nt-title-category .descricao-sessao").outerHeight() > 40 ? $(".nt-line-around", ".nt-title-category").show() : $(".nt-line-around", ".nt-title-category").hide(), !$(".descricao-sessao", ".nt-title-category").hasClass("visible")) {
            var a = $(".descricao-sessao p", ".nt-title-category").outerHeight();
            $(".descricao-sessao", ".nt-title-category").height("max-height", a)
        }
    })
}), $("body").hasClass("internasComum")) {
    if (($("body").hasClass("resultado-busca") || $("body").hasClass("super-loja")) && !$(".search-single-navigator-navigator").length && !$(".search-multiple-navigator").length) {
        $(".wrapperLeft .menu-departamento").append('<div class="search-multiple-navigator"></div>'), $(".search-multiple-navigator h3, .search-multiple-navigator h4, .search-multiple-navigator a.bt-refinar").remove(), $(".search-multiple-navigator").prepend('<ul class="menu-categories"></ul>');
        var numberLi = 0;
        $(".search-single-navigator h3").each(function () {
            var a = $(this).text();
            $(this).wrap('<li class="item item-' + numberLi + '" title="' + a + '"></li>');
            var b = $(this).parents("li.item").next("ul").html();
            $(this).parents("li.item").append('<div class="busca"><input type="text" id="search' + numberLi + '" class="search" placeholder="Digite para buscar..." /></div>'), void 0 === b || null === b || $(this).parents("li.item").append("<ul>" + b + "</ul>"), numberLi++
        }), $(".wrapperLeft .menu-departamento .search-multiple-navigator .menu-categories li.item h3").each(function () {
            $(this).parents("li.item").find("ul.mCustomScrollbar li.linha").length && $(this).append('<button><i class="fa fa-arrow-circle-down" aria-hidden="true"></i></button>')
        })
    }
    var $titleCategory;
    if ($("body").hasClass("resultado-busca")) {
        var titleSearch = $("h1.titulo-sessao").text(),
            termSearch = $($(".resultado-busca-termo .value", ".searchResultsTime").eq(0)).text();
        window.location.href.indexOf("fq=H:") != -1 ? ($("body").addClass("resultado-colecao"), $("h1.titulo-sessao").html('<span class="term">' + termSearch + "</span>")) : window.location.href.indexOf("fq=B:") != -1 ? ($("body").addClass("resultado-marcas"), $("h1.titulo-sessao").html("Resultado da Busca")) : $("h1.titulo-sessao").html('Resultado da Busca: <span class="term">' + termSearch + "</span>")
    }
    var ClusterId, urlCluster, urlFilters, $filterSelect = $(".sub").eq(0),
        $filterContainer = $(".nt-box.nt-filters-buttons");
    $filterContainer.append('<div class="nt-filters"></div>'), urlCluster = $("select#O").attr("onchange"), $("body").hasClass("super-loja") && urlCluster.indexOf("productClusterIds") != -1 ? (ClusterId = urlCluster.split("/"), ClusterId = ClusterId[ClusterId.length - 1], ClusterId = ClusterId.split("?"), ClusterId = "fq=H:" + ClusterId[0], $("select#O").attr("onchange", "window.location.href = window.location.origin + window.location.pathname + '?fq=H:" + ClusterId + "+&O=' + this.options[this.selectedIndex].value")) : $("body").hasClass("super-loja") && (ClusterId = dataLayer[0].pageFacets[2], ClusterId = ClusterId.split(":"), ClusterId = "fq=B:" + ClusterId[1]), $filterSelect.find(".orderBy select option").each(function (a) {
        if ($this = $(this), "" != $this.val()) {
            var b = "";
            "selected" == $this.attr("selected") && (b = " active");
            var c;
            if ("Melhor Desconto" == $this.text()) {
                var d = '<svg id="Desconto" data-name="Desconto" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 21.03"><defs><style>.cls-1{fill:#fccf0c;}</style></defs><path class="cls-1" d="M12.91,11.68a1.47,1.47,0,0,0-1.46,1.57v.23A1.49,1.49,0,0,0,12.92,15a1.47,1.47,0,0,0,1.46-1.56v-.23A1.49,1.49,0,0,0,12.91,11.68Z"></path><path class="cls-1" d="M20,7.27l-2.76-2L16.18,2H12.76L10,0,7.24,2H3.82L2.76,5.26,0,7.27l1.06,3.24L0,13.76l2.76,2L3.82,19H7.24L10,21l2.76-2h3.42l1.06-3.25,2.76-2-1.06-3.25ZM4.66,7.76V7.6A2.46,2.46,0,0,1,7.09,5.15,2.4,2.4,0,0,1,9.51,7.57v.16a2.46,2.46,0,0,1-2.43,2.45A2.4,2.4,0,0,1,4.66,7.76ZM5.89,16a.5.5,0,0,1-.52-.46c0-.31.12-.48.49-.89L14,5.08a.47.47,0,0,1,.52.46,1.53,1.53,0,0,1-.49.89Zm9.45-2.52a2.46,2.46,0,0,1-2.43,2.45,2.4,2.4,0,0,1-2.42-2.42V13.3a2.46,2.46,0,0,1,2.43-2.45,2.4,2.4,0,0,1,2.42,2.42Z"></path><path class="cls-1" d="M8.55,7.78V7.55A1.49,1.49,0,0,0,7.08,6,1.47,1.47,0,0,0,5.62,7.55v.23A1.49,1.49,0,0,0,7.09,9.34,1.47,1.47,0,0,0,8.55,7.78Z"></path></svg>';
                c = d + " Ofertas"
            } else c = $this.text();
            urlFilters = window.location.href, urlFilters = removeParam("lid", urlFilters), urlFilters = urlFilters.indexOf("O=") != -1 ? urlFilters.split("O=")[0] : urlFilters, $("body").hasClass("super-loja") && (urlFilters = removeParam("fq", urlFilters)), urlFilters = urlFilters.indexOf("?") != -1 ? ClusterId ? urlFilters + "&" + ClusterId + "&O=" + $this.val() : urlFilters + "O=" + $this.val() : ClusterId ? urlFilters + "?" + ClusterId + "&O=" + $this.val() : urlFilters + "?O=" + $this.val(), console.log("Ã© isso ", urlFilters), $filterContainer.find(".nt-filters").append('<a class="filter filter-' + $this.val() + b + '" href="' + urlFilters + '" data-filter="' + $this.val() + '">' + c + "</a>")
        }
    });
    var resultadoBuscaNumero = $(".resultado-busca-numero span.value").html();
    $filterContainer.prepend('<div class="resultado-busca-numero">' + resultadoBuscaNumero + " produtos encontrados</div>"), $(".search-multiple-navigator").length || $(".search-single-navigator").after('<div class="search-multiple-navigator"></div>'), $(".search-multiple-navigator h3, .search-multiple-navigator h4, .search-multiple-navigator a.bt-refinar").remove(), $(".menu-categories").length || $(".search-multiple-navigator").prepend('<ul class="menu-categories"></ul>');
    var numberLi = 0;
    $(".search-single-navigator h4").each(function () {
        var a = $(this).text();
        $(this).wrap('<li class="item item-' + numberLi + '" title="' + a + '"></li>');
        var b = $(this).parents("li.item").next("ul").html();
        $(this).parents("li.item").append('<div class="busca"><input type="text" id="search' + numberLi + '" class="search" placeholder="Digite para buscar..." /></div>'), void 0 === b || null === b || $(this).parents("li.item").append("<ul>" + b + "</ul>"), numberLi++
    }), $(".search-multiple-navigator fieldset").each(function (a) {
        $this = $(this), $this.addClass("item"), $("div", $this).addClass("wrapperLabel");
        var b = $("h5", $this).text();
        $("h5", $this).remove(), $this.prepend('<div class="busca"><input type="text" id="search-fieldset" class="search" placeholder="Digite para buscar..." /></div>'), $this.prepend("<h5>" + b + "</div>")
    }), $(".search-single-navigator li.item").sort(asc_sort).appendTo(".search-multiple-navigator ul.menu-categories"), $(".menu-categories .item ul li").each(function () {
        var a = $(this).find("a").attr("title");
        $(this).attr("title", a)
    }), $(".menu-categories .item ul").each(function () {
        $(this).find("li").sort(asc_sort).appendTo(this)
    }), $('.menu-departamento input[type="checkbox"]').vtexSmartResearch({
        pageLimit: null,
        loadContent: ".prateleira[id^=ResultItems]",
        shelfClass: ".prateleira",
        filtersMenu: ".search-multiple-navigator",
        linksMenu: ".search-single-navigator",
        menuDepartament: ".navigation .menu-departamento",
        mergeMenu: !0,
        insertMenuAfter: ".search-multiple-navigator h3:first",
        emptySearchElem: jQuery('<div class="vtexsr-emptySearch"></div>'),
        elemLoading: '<div id="scrollLoading">Carregando...</div>',
        returnTopText: "",
        emptySearchMsg: "<h3>Esta combinaÃƒÂ§ÃƒÂ£o de filtros nÃƒÂ£o retornou nenhum resultado!</h3>",
        filterErrorMsg: "Houve um erro ao tentar filtrar a pÃƒÂ¡gina!",
        searchUrl: null,
        usePopup: !1,
        showLinks: !0,
        popupAutoCloseSeconds: 2,
        filterScrollTop: function (a) {
            return a.top - 20
        },
        callback: function () { },
        getShelfHeight: function (a) {
            return a.scrollTop() + a.height()
        },
        shelfCallback: function () {
            $(".prateleira ul").show(), prateleira()
        },
        ajaxCallback: function () {
            $(".prateleira ul").show(), prateleira()
        },
        emptySearchCallback: function () { },
        authorizeScroll: function () {
            return !0
        },
        authorizeUpdate: function () {
            return !0
        },
        labelCallback: function (a) { }
    }), $(".search-multiple-navigator fieldset label").addClass("linha"), $("#mainMenu").mCustomScrollbar(), $(".search-multiple-navigator .menu-categories li ul").mCustomScrollbar(), $(".search-multiple-navigator fieldset div.wrapperLabel").mCustomScrollbar(), $(".search-multiple-navigator .mCustomScrollbar li").addClass("linha"), $(".search-multiple-navigator .item").each(function () {
        $(this).find(".linha").size() >= "6" ? $(this).find(".busca").fadeIn() : $(this).find(".busca").remove()
    }), $("fieldset").find(".linha").size() >= "6" ? $(this).find(".busca").fadeIn() : $(this).find(".busca").remove(), $("input.search").keyup(function () {
        var a = this;
        $.each($(this).parents(".item").find(".linha"), function () {
            $(this).text().toLowerCase().indexOf($(a).val().toLowerCase()) == -1 ? $(this).hide() : $(this).show()
        })
    }), $("body").hasClass("resultado-busca") && ($(".wrapperLeft .menu-departamento .search-multiple-navigator .menu-categories li.item h3").each(function () {
        $(this).find("span").remove(), $(this).parents("li.item").find("ul.mCustomScrollbar li.linha").length && $(this).append('<button><i class="fa fa-arrow-circle-down" aria-hidden="true"></i></button>')
    }), $(".menu-departamento .search-multiple-navigator .menu-categories li.item h3 button").live("click", function () {
        $(this).parents("li.item").hasClass("ativo") ? ($(this).parents("li.item").find("ul").slideUp("fast"), $(this).parents("li.item").removeClass("ativo")) : ($(".wrapperLeft .menu-departamento .search-multiple-navigator .menu-categories li.item ul").slideUp("fast"), $(".wrapperLeft .menu-departamento .search-multiple-navigator .menu-categories li.item").removeClass("ativo"), $(this).parents("li.item").find("ul").fadeIn(), $(this).parents("li.item").addClass("ativo"))
    })), $(".wrapperLeft .menu-departamento .search-multiple-navigator .menu-categories li.item h4").each(function () {
        $(this).parents("li.item").find("ul.mCustomScrollbar li.linha").length && $(this).append('<button><i class="fa fa-arrow-circle-down" aria-hidden="true"></i></button>')
    }), $(".menu-departamento .search-multiple-navigator .menu-categories li.item h4 button").live("click", function () {
        $(this).parents("li.item").hasClass("ativo") ? ($(this).parents("li.item").find("ul").slideUp("fast"), $(this).parents("li.item").removeClass("ativo")) : ($(".wrapperLeft .menu-departamento .search-multiple-navigator .menu-categories li.item ul").slideUp("fast"), $(".wrapperLeft .menu-departamento .search-multiple-navigator .menu-categories li.item").removeClass("ativo"), $(this).parents("li.item").find("ul").fadeIn(), $(this).parents("li.item").addClass("ativo"))
    }), $(".wrapperLeft .menu-departamento .search-multiple-navigator fieldset div.wrapperLabel label, .wrapperLeft .overflow button").live("click", function () {
        $(".wrapperLeft").animate({
            left: "-112%"
        }, 200)
    }), $(".wrapperRight .resultado-busca-filtro").prepend('<button class="filtros">Filtros</button>'), $(".wrapperRight .resultado-busca-filtro .filtros").live("click", function () {
        $(".wrapperLeft").animate({
            left: "0"
        }, 400)
    }), $(".search-multiple-navigator").show(), $(".wrapperLeft .menu-departamento").fadeIn();
    var titleFirstLi = $(".menu-categories li:nth-child(1) h4 a").attr("title");
    $titleCategory == titleFirstLi && ($(".menu-categories li:nth-child(1) h4").hide(), $(".menu-categories li:nth-child(1) ul").length || $(".refino-marca.filtro_marca").addClass("hide-top-border-desktop"))
}
$(window).on("resize", function (a) {
    $('[class*="nt-box-icons-nav-list-icon-"] > div ').slick("unslick"), clearTimeout(window.resizedFinished), window.resizedFinished = setTimeout(function () {
        console.log("foi"), navSlick()
    }, 350)
}), navSlick(),
    function () {
        departmentCurrent()
    }();